import{ax as we,aj as ie,a6 as fe,aa as K,r as T,ae as de,l as Kn,O as Xe,M as Un,q as V,a4 as le,av as Yn,aG as ye,aZ as Gn,t as x,a_ as jn,e as te,a5 as U,aN as Vn,w as ne,aJ as xn,ak as qn,af as Jn,at as qe,ay as Qn,a$ as $e,b0 as xe,b1 as Rn,b2 as et,b3 as nt,b4 as Ze,b5 as Y,b6 as Sn,b7 as Ke,aC as tt,b8 as Mn,b9 as ae,ba as Pe,bb as Je,bc as rt,bd as Qe,be as Re,bf as ge,bg as ot,bh as en,bi as it,bj as at,bk as st,bl as lt,bm as ut,bn as dt,bo as ft,B as z,ah as ct,n as k,a3 as Me,G as Ee,p as me,bp as ht,aH as pt,u as vt,v as Ue,aL as En,x as gt,W as mt,as as bt,bq as wt,aA as yt,br as $t,y as xt}from"./app-CLJvurN3.js";import{u as St}from"./use-false-until-truthy-CbePH8F9.js";import{i as Mt,b as Et,f as Ae}from"./format-length-HZXLrAO-.js";import{o as L,a as P,g as Fe,X as At}from"./Input-DhYCGtaB.js";import{i as nn,r as Ce,c as ce}from"./resolve-slot-DafISHzn.js";import{u as Ct}from"./use-merged-state-CuDAJzl2.js";let re,ue;const Ot=()=>{var e,n;re=Mt?(n=(e=document)===null||e===void 0?void 0:e.fonts)===null||n===void 0?void 0:n.ready:void 0,ue=!1,re!==void 0?re.then(()=>{ue=!0}):ue=!0};Ot();function Tt(e){if(ue)return;let n=!1;we(()=>{ue||re==null||re.then(()=>{n||e()})}),ie(()=>{n=!0})}const Lo=fe("n-internal-select-menu"),It=fe("n-internal-select-menu-body"),An=fe("n-drawer-body"),Cn=fe("n-modal-body"),On=fe("n-popover-body"),Tn="__disabled__";function oe(e){const n=K(Cn,null),t=K(An,null),r=K(On,null),o=K(It,null),i=T();if(typeof document<"u"){i.value=document.fullscreenElement;const a=()=>{i.value=document.fullscreenElement};we(()=>{L("fullscreenchange",document,a)}),ie(()=>{P("fullscreenchange",document,a)})}return de(()=>{var a;const{to:u}=e;return u!==void 0?u===!1?Tn:u===!0?i.value||"body":u:n!=null&&n.value?(a=n.value.$el)!==null&&a!==void 0?a:n.value:t!=null&&t.value?t.value:r!=null&&r.value?r.value:o!=null&&o.value?o.value:u??(i.value||"body")})}oe.tdkey=Tn;oe.propTo={type:[String,Object,Boolean],default:void 0};function Le(e,n,t="default"){const r=n[t];if(r===void 0)throw new Error(`[vueuc/${e}]: slot[${t}] is empty.`);return r()}function De(e,n=!0,t=[]){return e.forEach(r=>{if(r!==null){if(typeof r!="object"){(typeof r=="string"||typeof r=="number")&&t.push(Kn(String(r)));return}if(Array.isArray(r)){De(r,n,t);return}if(r.type===Xe){if(r.children===null)return;Array.isArray(r.children)&&De(r.children,n,t)}else r.type!==Un&&t.push(r)}}),t}function tn(e,n,t="default"){const r=n[t];if(r===void 0)throw new Error(`[vueuc/${e}]: slot[${t}] is empty.`);const o=De(r());if(o.length===1)return o[0];throw new Error(`[vueuc/${e}]: slot[${t}] should have exactly one child.`)}let X=null;function In(){if(X===null&&(X=document.getElementById("v-binder-view-measurer"),X===null)){X=document.createElement("div"),X.id="v-binder-view-measurer";const{style:e}=X;e.position="fixed",e.left="0",e.right="0",e.top="0",e.bottom="0",e.pointerEvents="none",e.visibility="hidden",document.body.appendChild(X)}return X.getBoundingClientRect()}function _t(e,n){const t=In();return{top:n,left:e,height:0,width:0,right:t.width-e,bottom:t.height-n}}function Oe(e){const n=e.getBoundingClientRect(),t=In();return{left:n.left-t.left,top:n.top-t.top,bottom:t.height+t.top-n.bottom,right:t.width+t.left-n.right,width:n.width,height:n.height}}function Bt(e){return e.nodeType===9?null:e.parentNode}function _n(e){if(e===null)return null;const n=Bt(e);if(n===null)return null;if(n.nodeType===9)return document;if(n.nodeType===1){const{overflow:t,overflowX:r,overflowY:o}=getComputedStyle(n);if(/(auto|scroll|overlay)/.test(t+o+r))return n}return _n(n)}const zt=V({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(e){var n;le("VBinder",(n=Yn())===null||n===void 0?void 0:n.proxy);const t=K("VBinder",null),r=T(null),o=l=>{r.value=l,t&&e.syncTargetWithParent&&t.setTargetRef(l)};let i=[];const a=()=>{let l=r.value;for(;l=_n(l),l!==null;)i.push(l);for(const y of i)L("scroll",y,b,!0)},u=()=>{for(const l of i)P("scroll",l,b,!0);i=[]},s=new Set,v=l=>{s.size===0&&a(),s.has(l)||s.add(l)},g=l=>{s.has(l)&&s.delete(l),s.size===0&&u()},b=()=>{Et(d)},d=()=>{s.forEach(l=>l())},h=new Set,m=l=>{h.size===0&&L("resize",window,f),h.has(l)||h.add(l)},c=l=>{h.has(l)&&h.delete(l),h.size===0&&P("resize",window,f)},f=()=>{h.forEach(l=>l())};return ie(()=>{P("resize",window,f),u()}),{targetRef:r,setTargetRef:o,addScrollListener:v,removeScrollListener:g,addResizeListener:m,removeResizeListener:c}},render(){return Le("binder",this.$slots)}}),Pt=V({name:"Target",setup(){const{setTargetRef:e,syncTarget:n}=K("VBinder");return{syncTarget:n,setTargetDirective:{mounted:e,updated:e}}},render(){const{syncTarget:e,setTargetDirective:n}=this;return e?ye(tn("follower",this.$slots),[[n]]):tn("follower",this.$slots)}}),Q="@@mmoContext",Ft={mounted(e,{value:n}){e[Q]={handler:void 0},typeof n=="function"&&(e[Q].handler=n,L("mousemoveoutside",e,n))},updated(e,{value:n}){const t=e[Q];typeof n=="function"?t.handler?t.handler!==n&&(P("mousemoveoutside",e,t.handler),t.handler=n,L("mousemoveoutside",e,n)):(e[Q].handler=n,L("mousemoveoutside",e,n)):t.handler&&(P("mousemoveoutside",e,t.handler),t.handler=void 0)},unmounted(e){const{handler:n}=e[Q];n&&P("mousemoveoutside",e,n),e[Q].handler=void 0}},R="@@coContext",rn={mounted(e,{value:n,modifiers:t}){e[R]={handler:void 0},typeof n=="function"&&(e[R].handler=n,L("clickoutside",e,n,{capture:t.capture}))},updated(e,{value:n,modifiers:t}){const r=e[R];typeof n=="function"?r.handler?r.handler!==n&&(P("clickoutside",e,r.handler,{capture:t.capture}),r.handler=n,L("clickoutside",e,n,{capture:t.capture})):(e[R].handler=n,L("clickoutside",e,n,{capture:t.capture})):r.handler&&(P("clickoutside",e,r.handler,{capture:t.capture}),r.handler=void 0)},unmounted(e,{modifiers:n}){const{handler:t}=e[R];t&&P("clickoutside",e,t,{capture:n.capture}),e[R].handler=void 0}};function Lt(e,n){console.error(`[vdirs/${e}]: ${n}`)}class Dt{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(n,t){const{elementZIndex:r}=this;if(t!==void 0){n.style.zIndex=`${t}`,r.delete(n);return}const{nextZIndex:o}=this;r.has(n)&&r.get(n)+1===this.nextZIndex||(n.style.zIndex=`${o}`,r.set(n,o),this.nextZIndex=o+1,this.squashState())}unregister(n,t){const{elementZIndex:r}=this;r.has(n)?r.delete(n):t===void 0&&Lt("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:n}=this;n||(this.nextZIndex=2e3),this.nextZIndex-n>2500&&this.rearrange()}rearrange(){const n=Array.from(this.elementZIndex.entries());n.sort((t,r)=>t[1]-r[1]),this.nextZIndex=2e3,n.forEach(t=>{const r=t[0],o=this.nextZIndex++;`${o}`!==r.style.zIndex&&(r.style.zIndex=`${o}`)})}}const Te=new Dt,ee="@@ziContext",Bn={mounted(e,n){const{value:t={}}=n,{zIndex:r,enabled:o}=t;e[ee]={enabled:!!o,initialized:!1},o&&(Te.ensureZIndex(e,r),e[ee].initialized=!0)},updated(e,n){const{value:t={}}=n,{zIndex:r,enabled:o}=t,i=e[ee].enabled;o&&!i&&(Te.ensureZIndex(e,r),e[ee].initialized=!0),e[ee].enabled=!!o},unmounted(e,n){if(!e[ee].initialized)return;const{value:t={}}=n,{zIndex:r}=t;Te.unregister(e,r)}},{c:he}=Gn(),Nt="vueuc-style";function on(e){return typeof e=="string"?document.querySelector(e):e()}const Wt=V({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(e){return{showTeleport:St(U(e,"show")),mergedTo:te(()=>{const{to:n}=e;return n??"body"})}},render(){return this.showTeleport?this.disabled?Le("lazy-teleport",this.$slots):x(jn,{disabled:this.disabled,to:this.mergedTo},Le("lazy-teleport",this.$slots)):null}}),pe={top:"bottom",bottom:"top",left:"right",right:"left"},an={start:"end",center:"center",end:"start"},Ie={top:"height",bottom:"height",left:"width",right:"width"},kt={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},Ht={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},Xt={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},sn={top:!0,bottom:!1,left:!0,right:!1},ln={top:"end",bottom:"start",left:"end",right:"start"};function Zt(e,n,t,r,o,i){if(!o||i)return{placement:e,top:0,left:0};const[a,u]=e.split("-");let s=u??"center",v={top:0,left:0};const g=(h,m,c)=>{let f=0,l=0;const y=t[h]-n[m]-n[h];return y>0&&r&&(c?l=sn[m]?y:-y:f=sn[m]?y:-y),{left:f,top:l}},b=a==="left"||a==="right";if(s!=="center"){const h=Xt[e],m=pe[h],c=Ie[h];if(t[c]>n[c]){if(n[h]+n[c]<t[c]){const f=(t[c]-n[c])/2;n[h]<f||n[m]<f?n[h]<n[m]?(s=an[u],v=g(c,m,b)):v=g(c,h,b):s="center"}}else t[c]<n[c]&&n[m]<0&&n[h]>n[m]&&(s=an[u])}else{const h=a==="bottom"||a==="top"?"left":"top",m=pe[h],c=Ie[h],f=(t[c]-n[c])/2;(n[h]<f||n[m]<f)&&(n[h]>n[m]?(s=ln[h],v=g(c,h,b)):(s=ln[m],v=g(c,m,b)))}let d=a;return n[a]<t[Ie[a]]&&n[a]<n[pe[a]]&&(d=pe[a]),{placement:s!=="center"?`${d}-${s}`:d,left:v.left,top:v.top}}function Kt(e,n){return n?Ht[e]:kt[e]}function Ut(e,n,t,r,o,i){if(i)switch(e){case"bottom-start":return{top:`${Math.round(t.top-n.top+t.height)}px`,left:`${Math.round(t.left-n.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(t.top-n.top+t.height)}px`,left:`${Math.round(t.left-n.left+t.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(t.top-n.top)}px`,left:`${Math.round(t.left-n.left)}px`,transform:""};case"top-end":return{top:`${Math.round(t.top-n.top)}px`,left:`${Math.round(t.left-n.left+t.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(t.top-n.top)}px`,left:`${Math.round(t.left-n.left+t.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(t.top-n.top+t.height)}px`,left:`${Math.round(t.left-n.left+t.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(t.top-n.top)}px`,left:`${Math.round(t.left-n.left)}px`,transform:""};case"left-end":return{top:`${Math.round(t.top-n.top+t.height)}px`,left:`${Math.round(t.left-n.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(t.top-n.top)}px`,left:`${Math.round(t.left-n.left+t.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(t.top-n.top+t.height/2)}px`,left:`${Math.round(t.left-n.left+t.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(t.top-n.top+t.height/2)}px`,left:`${Math.round(t.left-n.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(t.top-n.top+t.height)}px`,left:`${Math.round(t.left-n.left+t.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(e){case"bottom-start":return{top:`${Math.round(t.top-n.top+t.height+r)}px`,left:`${Math.round(t.left-n.left+o)}px`,transform:""};case"bottom-end":return{top:`${Math.round(t.top-n.top+t.height+r)}px`,left:`${Math.round(t.left-n.left+t.width+o)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(t.top-n.top+r)}px`,left:`${Math.round(t.left-n.left+o)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(t.top-n.top+r)}px`,left:`${Math.round(t.left-n.left+t.width+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(t.top-n.top+r)}px`,left:`${Math.round(t.left-n.left+t.width+o)}px`,transform:""};case"right-end":return{top:`${Math.round(t.top-n.top+t.height+r)}px`,left:`${Math.round(t.left-n.left+t.width+o)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(t.top-n.top+r)}px`,left:`${Math.round(t.left-n.left+o)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(t.top-n.top+t.height+r)}px`,left:`${Math.round(t.left-n.left+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(t.top-n.top+r)}px`,left:`${Math.round(t.left-n.left+t.width/2+o)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(t.top-n.top+t.height/2+r)}px`,left:`${Math.round(t.left-n.left+t.width+o)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(t.top-n.top+t.height/2+r)}px`,left:`${Math.round(t.left-n.left+o)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(t.top-n.top+t.height+r)}px`,left:`${Math.round(t.left-n.left+t.width/2+o)}px`,transform:"translateX(-50%)"}}}const Yt=he([he(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),he(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[he("> *",{pointerEvents:"all"})])]),Gt=V({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(e){const n=K("VBinder"),t=de(()=>e.enabled!==void 0?e.enabled:e.show),r=T(null),o=T(null),i=()=>{const{syncTrigger:d}=e;d.includes("scroll")&&n.addScrollListener(s),d.includes("resize")&&n.addResizeListener(s)},a=()=>{n.removeScrollListener(s),n.removeResizeListener(s)};we(()=>{t.value&&(s(),i())});const u=Vn();Yt.mount({id:"vueuc/binder",head:!0,anchorMetaName:Nt,ssr:u}),ie(()=>{a()}),Tt(()=>{t.value&&s()});const s=()=>{if(!t.value)return;const d=r.value;if(d===null)return;const h=n.targetRef,{x:m,y:c,overlap:f}=e,l=m!==void 0&&c!==void 0?_t(m,c):Oe(h);d.style.setProperty("--v-target-width",`${Math.round(l.width)}px`),d.style.setProperty("--v-target-height",`${Math.round(l.height)}px`);const{width:y,minWidth:C,placement:O,internalShift:_,flip:G}=e;d.setAttribute("v-placement",O),f?d.setAttribute("v-overlap",""):d.removeAttribute("v-overlap");const{style:w}=d;y==="target"?w.width=`${l.width}px`:y!==void 0?w.width=y:w.width="",C==="target"?w.minWidth=`${l.width}px`:C!==void 0?w.minWidth=C:w.minWidth="";const E=Oe(d),A=Oe(o.value),{left:$,top:H,placement:D}=Zt(O,l,E,_,G,f),F=Kt(D,f),{left:j,top:p,transform:S}=Ut(D,A,l,H,$,f);d.setAttribute("v-placement",D),d.style.setProperty("--v-offset-left",`${Math.round($)}px`),d.style.setProperty("--v-offset-top",`${Math.round(H)}px`),d.style.transform=`translateX(${j}) translateY(${p}) ${S}`,d.style.setProperty("--v-transform-origin",F),d.style.transformOrigin=F};ne(t,d=>{d?(i(),v()):a()});const v=()=>{qn().then(s).catch(d=>console.error(d))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(d=>{ne(U(e,d),s)}),["teleportDisabled"].forEach(d=>{ne(U(e,d),v)}),ne(U(e,"syncTrigger"),d=>{d.includes("resize")?n.addResizeListener(s):n.removeResizeListener(s),d.includes("scroll")?n.addScrollListener(s):n.removeScrollListener(s)});const g=xn(),b=de(()=>{const{to:d}=e;if(d!==void 0)return d;g.value});return{VBinder:n,mergedEnabled:t,offsetContainerRef:o,followerRef:r,mergedTo:b,syncPosition:s}},render(){return x(Wt,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var e,n;const t=x("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[x("div",{class:"v-binder-follower-content",ref:"followerRef"},(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e))]);return this.zindexable?ye(t,[[Bn,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):t}})}});function zn(e){return e instanceof HTMLElement}function Pn(e){for(let n=0;n<e.childNodes.length;n++){const t=e.childNodes[n];if(zn(t)&&(Ln(t)||Pn(t)))return!0}return!1}function Fn(e){for(let n=e.childNodes.length-1;n>=0;n--){const t=e.childNodes[n];if(zn(t)&&(Ln(t)||Fn(t)))return!0}return!1}function Ln(e){if(!jt(e))return!1;try{e.focus({preventScroll:!0})}catch{}return document.activeElement===e}function jt(e){if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.getAttribute("disabled"))return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return e.type!=="hidden"&&e.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let se=[];const Vt=V({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(e){const n=Jn(),t=T(null),r=T(null);let o=!1,i=!1;const a=typeof document>"u"?null:document.activeElement;function u(){return se[se.length-1]===n}function s(f){var l;f.code==="Escape"&&u()&&((l=e.onEsc)===null||l===void 0||l.call(e,f))}we(()=>{ne(()=>e.active,f=>{f?(b(),L("keydown",document,s)):(P("keydown",document,s),o&&d())},{immediate:!0})}),ie(()=>{P("keydown",document,s),o&&d()});function v(f){if(!i&&u()){const l=g();if(l===null||l.contains(Fe(f)))return;h("first")}}function g(){const f=t.value;if(f===null)return null;let l=f;for(;l=l.nextSibling,!(l===null||l instanceof Element&&l.tagName==="DIV"););return l}function b(){var f;if(!e.disabled){if(se.push(n),e.autoFocus){const{initialFocusTo:l}=e;l===void 0?h("first"):(f=on(l))===null||f===void 0||f.focus({preventScroll:!0})}o=!0,document.addEventListener("focus",v,!0)}}function d(){var f;if(e.disabled||(document.removeEventListener("focus",v,!0),se=se.filter(y=>y!==n),u()))return;const{finalFocusTo:l}=e;l!==void 0?(f=on(l))===null||f===void 0||f.focus({preventScroll:!0}):e.returnFocusOnDeactivated&&a instanceof HTMLElement&&(i=!0,a.focus({preventScroll:!0}),i=!1)}function h(f){if(u()&&e.active){const l=t.value,y=r.value;if(l!==null&&y!==null){const C=g();if(C==null||C===y){i=!0,l.focus({preventScroll:!0}),i=!1;return}i=!0;const O=f==="first"?Pn(C):Fn(C);i=!1,O||(i=!0,l.focus({preventScroll:!0}),i=!1)}}}function m(f){if(i)return;const l=g();l!==null&&(f.relatedTarget!==null&&l.contains(f.relatedTarget)?h("last"):h("first"))}function c(f){i||(f.relatedTarget!==null&&f.relatedTarget===t.value?h("last"):h("first"))}return{focusableStartRef:t,focusableEndRef:r,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:m,handleEndFocus:c}},render(){const{default:e}=this.$slots;if(e===void 0)return null;if(this.disabled)return e();const{active:n,focusableStyle:t}=this;return x(Xe,null,[x("div",{"aria-hidden":"true",tabindex:n?"0":"-1",ref:"focusableStartRef",style:t,onFocus:this.handleStartFocus}),e(),x("div",{"aria-hidden":"true",style:t,ref:"focusableEndRef",tabindex:n?"0":"-1",onFocus:this.handleEndFocus})])}});let _e;function qt(){return _e===void 0&&(_e=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),_e}function Jt(e,n="default",t=void 0){const r=e[n];if(!r)return qe("getFirstSlotVNode",`slot[${n}] is empty`),null;const o=Qn(r(t));return o.length===1?o[0]:(qe("getFirstSlotVNode",`slot[${n}] should have exactly one child`),null)}function Qt(e,n=[],t){const r={};return n.forEach(o=>{r[o]=e[o]}),Object.assign(r,t)}var Ne=$e(xe,"WeakMap"),Rt=Rn(Object.keys,Object),er=Object.prototype,nr=er.hasOwnProperty;function tr(e){if(!et(e))return Rt(e);var n=[];for(var t in Object(e))nr.call(e,t)&&t!="constructor"&&n.push(t);return n}function Ye(e){return Ze(e)?nt(e):tr(e)}var rr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,or=/^\w*$/;function Ge(e,n){if(Y(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Sn(e)?!0:or.test(e)||!rr.test(e)||n!=null&&e in Object(n)}var ir="Expected a function";function je(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(ir);var t=function(){var r=arguments,o=n?n.apply(this,r):r[0],i=t.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return t.cache=i.set(o,a)||i,a};return t.cache=new(je.Cache||Ke),t}je.Cache=Ke;var ar=500;function sr(e){var n=je(e,function(r){return t.size===ar&&t.clear(),r}),t=n.cache;return n}var lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ur=/\\(\\)?/g,dr=sr(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(lr,function(t,r,o,i){n.push(o?i.replace(ur,"$1"):r||t)}),n});function Dn(e,n){return Y(e)?e:Ge(e,n)?[e]:dr(tt(e))}function Se(e){if(typeof e=="string"||Sn(e))return e;var n=e+"";return n=="0"&&1/e==-1/0?"-0":n}function Nn(e,n){n=Dn(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[Se(n[t++])];return t&&t==r?e:void 0}function fr(e,n,t){var r=e==null?void 0:Nn(e,n);return r===void 0?t:r}function cr(e,n){for(var t=-1,r=n.length,o=e.length;++t<r;)e[o+t]=n[t];return e}function hr(e,n){for(var t=-1,r=e==null?0:e.length,o=0,i=[];++t<r;){var a=e[t];n(a,t,e)&&(i[o++]=a)}return i}function pr(){return[]}var vr=Object.prototype,gr=vr.propertyIsEnumerable,un=Object.getOwnPropertySymbols,mr=un?function(e){return e==null?[]:(e=Object(e),hr(un(e),function(n){return gr.call(e,n)}))}:pr;function br(e,n,t){var r=n(e);return Y(e)?r:cr(r,t(e))}function dn(e){return br(e,Ye,mr)}var We=$e(xe,"DataView"),ke=$e(xe,"Promise"),He=$e(xe,"Set"),fn="[object Map]",wr="[object Object]",cn="[object Promise]",hn="[object Set]",pn="[object WeakMap]",vn="[object DataView]",yr=ae(We),$r=ae(Pe),xr=ae(ke),Sr=ae(He),Mr=ae(Ne),Z=Mn;(We&&Z(new We(new ArrayBuffer(1)))!=vn||Pe&&Z(new Pe)!=fn||ke&&Z(ke.resolve())!=cn||He&&Z(new He)!=hn||Ne&&Z(new Ne)!=pn)&&(Z=function(e){var n=Mn(e),t=n==wr?e.constructor:void 0,r=t?ae(t):"";if(r)switch(r){case yr:return vn;case $r:return fn;case xr:return cn;case Sr:return hn;case Mr:return pn}return n});var Er="__lodash_hash_undefined__";function Ar(e){return this.__data__.set(e,Er),this}function Cr(e){return this.__data__.has(e)}function be(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new Ke;++n<t;)this.add(e[n])}be.prototype.add=be.prototype.push=Ar;be.prototype.has=Cr;function Or(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function Tr(e,n){return e.has(n)}var Ir=1,_r=2;function Wn(e,n,t,r,o,i){var a=t&Ir,u=e.length,s=n.length;if(u!=s&&!(a&&s>u))return!1;var v=i.get(e),g=i.get(n);if(v&&g)return v==n&&g==e;var b=-1,d=!0,h=t&_r?new be:void 0;for(i.set(e,n),i.set(n,e);++b<u;){var m=e[b],c=n[b];if(r)var f=a?r(c,m,b,n,e,i):r(m,c,b,e,n,i);if(f!==void 0){if(f)continue;d=!1;break}if(h){if(!Or(n,function(l,y){if(!Tr(h,y)&&(m===l||o(m,l,t,r,i)))return h.push(y)})){d=!1;break}}else if(!(m===c||o(m,c,t,r,i))){d=!1;break}}return i.delete(e),i.delete(n),d}function Br(e){var n=-1,t=Array(e.size);return e.forEach(function(r,o){t[++n]=[o,r]}),t}function zr(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var Pr=1,Fr=2,Lr="[object Boolean]",Dr="[object Date]",Nr="[object Error]",Wr="[object Map]",kr="[object Number]",Hr="[object RegExp]",Xr="[object Set]",Zr="[object String]",Kr="[object Symbol]",Ur="[object ArrayBuffer]",Yr="[object DataView]",gn=Je?Je.prototype:void 0,Be=gn?gn.valueOf:void 0;function Gr(e,n,t,r,o,i,a){switch(t){case Yr:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Ur:return!(e.byteLength!=n.byteLength||!i(new Qe(e),new Qe(n)));case Lr:case Dr:case kr:return rt(+e,+n);case Nr:return e.name==n.name&&e.message==n.message;case Hr:case Zr:return e==n+"";case Wr:var u=Br;case Xr:var s=r&Pr;if(u||(u=zr),e.size!=n.size&&!s)return!1;var v=a.get(e);if(v)return v==n;r|=Fr,a.set(e,n);var g=Wn(u(e),u(n),r,o,i,a);return a.delete(e),g;case Kr:if(Be)return Be.call(e)==Be.call(n)}return!1}var jr=1,Vr=Object.prototype,qr=Vr.hasOwnProperty;function Jr(e,n,t,r,o,i){var a=t&jr,u=dn(e),s=u.length,v=dn(n),g=v.length;if(s!=g&&!a)return!1;for(var b=s;b--;){var d=u[b];if(!(a?d in n:qr.call(n,d)))return!1}var h=i.get(e),m=i.get(n);if(h&&m)return h==n&&m==e;var c=!0;i.set(e,n),i.set(n,e);for(var f=a;++b<s;){d=u[b];var l=e[d],y=n[d];if(r)var C=a?r(y,l,d,n,e,i):r(l,y,d,e,n,i);if(!(C===void 0?l===y||o(l,y,t,r,i):C)){c=!1;break}f||(f=d=="constructor")}if(c&&!f){var O=e.constructor,_=n.constructor;O!=_&&"constructor"in e&&"constructor"in n&&!(typeof O=="function"&&O instanceof O&&typeof _=="function"&&_ instanceof _)&&(c=!1)}return i.delete(e),i.delete(n),c}var Qr=1,mn="[object Arguments]",bn="[object Array]",ve="[object Object]",Rr=Object.prototype,wn=Rr.hasOwnProperty;function eo(e,n,t,r,o,i){var a=Y(e),u=Y(n),s=a?bn:Z(e),v=u?bn:Z(n);s=s==mn?ve:s,v=v==mn?ve:v;var g=s==ve,b=v==ve,d=s==v;if(d&&Re(e)){if(!Re(n))return!1;a=!0,g=!1}if(d&&!g)return i||(i=new ge),a||ot(e)?Wn(e,n,t,r,o,i):Gr(e,n,s,t,r,o,i);if(!(t&Qr)){var h=g&&wn.call(e,"__wrapped__"),m=b&&wn.call(n,"__wrapped__");if(h||m){var c=h?e.value():e,f=m?n.value():n;return i||(i=new ge),o(c,f,t,r,i)}}return d?(i||(i=new ge),Jr(e,n,t,r,o,i)):!1}function Ve(e,n,t,r,o){return e===n?!0:e==null||n==null||!en(e)&&!en(n)?e!==e&&n!==n:eo(e,n,t,r,Ve,o)}var no=1,to=2;function ro(e,n,t,r){var o=t.length,i=o;if(e==null)return!i;for(e=Object(e);o--;){var a=t[o];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=t[o];var u=a[0],s=e[u],v=a[1];if(a[2]){if(s===void 0&&!(u in e))return!1}else{var g=new ge,b;if(!(b===void 0?Ve(v,s,no|to,r,g):b))return!1}}return!0}function kn(e){return e===e&&!it(e)}function oo(e){for(var n=Ye(e),t=n.length;t--;){var r=n[t],o=e[r];n[t]=[r,o,kn(o)]}return n}function Hn(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==void 0||e in Object(t))}}function io(e){var n=oo(e);return n.length==1&&n[0][2]?Hn(n[0][0],n[0][1]):function(t){return t===e||ro(t,e,n)}}function ao(e,n){return e!=null&&n in Object(e)}function so(e,n,t){n=Dn(n,e);for(var r=-1,o=n.length,i=!1;++r<o;){var a=Se(n[r]);if(!(i=e!=null&&t(e,a)))break;e=e[a]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&at(o)&&st(a,o)&&(Y(e)||lt(e)))}function lo(e,n){return e!=null&&so(e,n,ao)}var uo=1,fo=2;function co(e,n){return Ge(e)&&kn(n)?Hn(Se(e),n):function(t){var r=fr(t,e);return r===void 0&&r===n?lo(t,e):Ve(n,r,uo|fo)}}function ho(e){return function(n){return n==null?void 0:n[e]}}function po(e){return function(n){return Nn(n,e)}}function vo(e){return Ge(e)?ho(Se(e)):po(e)}function go(e){return typeof e=="function"?e:e==null?ut:typeof e=="object"?Y(e)?co(e[0],e[1]):io(e):vo(e)}function mo(e,n){return e&&dt(e,n,Ye)}function bo(e,n){return function(t,r){if(t==null)return t;if(!Ze(t))return e(t,r);for(var o=t.length,i=-1,a=Object(t);++i<o&&r(a[i],i,a)!==!1;);return t}}var wo=bo(mo);function yo(e,n){var t=-1,r=Ze(e)?Array(e.length):[];return wo(e,function(o,i,a){r[++t]=n(o,i,a)}),r}function $o(e,n){var t=Y(e)?ft:yo;return t(e,go(n))}const{cubicBezierEaseIn:yn,cubicBezierEaseOut:$n}=ct;function Do({transformOrigin:e="inherit",duration:n=".2s",enterScale:t=".9",originalTransform:r="",originalTransition:o=""}={}){return[z("&.fade-in-scale-up-transition-leave-active",{transformOrigin:e,transition:`opacity ${n} ${yn}, transform ${n} ${yn} ${o&&`,${o}`}`}),z("&.fade-in-scale-up-transition-enter-active",{transformOrigin:e,transition:`opacity ${n} ${$n}, transform ${n} ${$n} ${o&&`,${o}`}`}),z("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${r} scale(${t})`}),z("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${r} scale(1)`})]}const ze={top:"bottom",bottom:"top",left:"right",right:"left"},M="var(--n-arrow-height) * 1.414",xo=z([k("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 word-break: break-word;
 `,[z(">",[k("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),Me("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[Me("scrollable",[Me("show-header-or-footer","padding: var(--n-padding);")])]),Ee("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),Ee("footer",`
 padding: var(--n-padding);
 border-top: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),me("scrollable, show-header-or-footer",[Ee("content",`
 padding: var(--n-padding);
 `)])]),k("popover-shared",`
 transform-origin: inherit;
 `,[k("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[k("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${M});
 height: calc(${M});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),z("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),z("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),z("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),z("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),B("top-start",`
 top: calc(${M} / -2);
 left: calc(${W("top-start")} - var(--v-offset-left));
 `),B("top",`
 top: calc(${M} / -2);
 transform: translateX(calc(${M} / -2)) rotate(45deg);
 left: 50%;
 `),B("top-end",`
 top: calc(${M} / -2);
 right: calc(${W("top-end")} + var(--v-offset-left));
 `),B("bottom-start",`
 bottom: calc(${M} / -2);
 left: calc(${W("bottom-start")} - var(--v-offset-left));
 `),B("bottom",`
 bottom: calc(${M} / -2);
 transform: translateX(calc(${M} / -2)) rotate(45deg);
 left: 50%;
 `),B("bottom-end",`
 bottom: calc(${M} / -2);
 right: calc(${W("bottom-end")} + var(--v-offset-left));
 `),B("left-start",`
 left: calc(${M} / -2);
 top: calc(${W("left-start")} - var(--v-offset-top));
 `),B("left",`
 left: calc(${M} / -2);
 transform: translateY(calc(${M} / -2)) rotate(45deg);
 top: 50%;
 `),B("left-end",`
 left: calc(${M} / -2);
 bottom: calc(${W("left-end")} + var(--v-offset-top));
 `),B("right-start",`
 right: calc(${M} / -2);
 top: calc(${W("right-start")} - var(--v-offset-top));
 `),B("right",`
 right: calc(${M} / -2);
 transform: translateY(calc(${M} / -2)) rotate(45deg);
 top: 50%;
 `),B("right-end",`
 right: calc(${M} / -2);
 bottom: calc(${W("right-end")} + var(--v-offset-top));
 `),...$o({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,n)=>{const t=["right","left"].includes(n),r=t?"width":"height";return e.map(o=>{const i=o.split("-")[1]==="end",u=`calc((${`var(--v-target-${r}, 0px)`} - ${M}) / 2)`,s=W(o);return z(`[v-placement="${o}"] >`,[k("popover-shared",[me("center-arrow",[k("popover-arrow",`${n}: calc(max(${u}, ${s}) ${i?"+":"-"} var(--v-offset-${t?"left":"top"}));`)])])])})})]);function W(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function B(e,n){const t=e.split("-")[0],r=["top","bottom"].includes(t)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return z(`[v-placement="${e}"] >`,[k("popover-shared",`
 margin-${ze[t]}: var(--n-space);
 `,[me("show-arrow",`
 margin-${ze[t]}: var(--n-space-arrow);
 `),me("overlap",`
 margin: 0;
 `),ht("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${t}: 100%;
 ${ze[t]}: auto;
 ${r}
 `,[k("popover-arrow",n)])])])}const Xn=Object.assign(Object.assign({},Ue.props),{to:oe.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number});function So({arrowClass:e,arrowStyle:n,arrowWrapperClass:t,arrowWrapperStyle:r,clsPrefix:o}){return x("div",{key:"__popover-arrow__",style:r,class:[`${o}-popover-arrow-wrapper`,t]},x("div",{class:[`${o}-popover-arrow`,e],style:n}))}const Mo=V({name:"PopoverBody",inheritAttrs:!1,props:Xn,setup(e,{slots:n,attrs:t}){const{namespaceRef:r,mergedClsPrefixRef:o,inlineThemeDisabled:i}=vt(e),a=Ue("Popover","-popover",xo,wt,e,o),u=T(null),s=K("NPopover"),v=T(null),g=T(e.show),b=T(!1);En(()=>{const{show:w}=e;w&&!qt()&&!e.internalDeactivateImmediately&&(b.value=!0)});const d=te(()=>{const{trigger:w,onClickoutside:E}=e,A=[],{positionManuallyRef:{value:$}}=s;return $||(w==="click"&&!E&&A.push([rn,O,void 0,{capture:!0}]),w==="hover"&&A.push([Ft,C])),E&&A.push([rn,O,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&b.value)&&A.push([bt,e.show]),A}),h=te(()=>{const{common:{cubicBezierEaseInOut:w,cubicBezierEaseIn:E,cubicBezierEaseOut:A},self:{space:$,spaceArrow:H,padding:D,fontSize:F,textColor:j,dividerColor:p,color:S,boxShadow:I,borderRadius:q,arrowHeight:J,arrowOffset:N,arrowOffsetVertical:Zn}}=a.value;return{"--n-box-shadow":I,"--n-bezier":w,"--n-bezier-ease-in":E,"--n-bezier-ease-out":A,"--n-font-size":F,"--n-text-color":j,"--n-color":S,"--n-divider-color":p,"--n-border-radius":q,"--n-arrow-height":J,"--n-arrow-offset":N,"--n-arrow-offset-vertical":Zn,"--n-padding":D,"--n-space":$,"--n-space-arrow":H}}),m=te(()=>{const w=e.width==="trigger"?void 0:Ae(e.width),E=[];w&&E.push({width:w});const{maxWidth:A,minWidth:$}=e;return A&&E.push({maxWidth:Ae(A)}),$&&E.push({maxWidth:Ae($)}),i||E.push(h.value),E}),c=i?gt("popover",void 0,h,e):void 0;s.setBodyInstance({syncPosition:f}),ie(()=>{s.setBodyInstance(null)}),ne(U(e,"show"),w=>{e.animated||(w?g.value=!0:g.value=!1)});function f(){var w;(w=u.value)===null||w===void 0||w.syncPosition()}function l(w){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&s.handleMouseEnter(w)}function y(w){e.trigger==="hover"&&e.keepAliveOnHover&&s.handleMouseLeave(w)}function C(w){e.trigger==="hover"&&!_().contains(Fe(w))&&s.handleMouseMoveOutside(w)}function O(w){(e.trigger==="click"&&!_().contains(Fe(w))||e.onClickoutside)&&s.handleClickOutside(w)}function _(){return s.getTriggerElement()}le(On,v),le(An,null),le(Cn,null);function G(){if(c==null||c.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&b.value))return null;let E;const A=s.internalRenderBodyRef.value,{value:$}=o;if(A)E=A([`${$}-popover-shared`,c==null?void 0:c.themeClass.value,e.overlap&&`${$}-popover-shared--overlap`,e.showArrow&&`${$}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${$}-popover-shared--center-arrow`],v,m.value,l,y);else{const{value:H}=s.extraClassRef,{internalTrapFocus:D}=e,F=!nn(n.header)||!nn(n.footer),j=()=>{var p,S;const I=F?x(Xe,null,Ce(n.header,N=>N?x("div",{class:[`${$}-popover__header`,e.headerClass],style:e.headerStyle},N):null),Ce(n.default,N=>N?x("div",{class:[`${$}-popover__content`,e.contentClass],style:e.contentStyle},n):null),Ce(n.footer,N=>N?x("div",{class:[`${$}-popover__footer`,e.footerClass],style:e.footerStyle},N):null)):e.scrollable?(p=n.default)===null||p===void 0?void 0:p.call(n):x("div",{class:[`${$}-popover__content`,e.contentClass],style:e.contentStyle},n),q=e.scrollable?x(At,{contentClass:F?void 0:`${$}-popover__content ${(S=e.contentClass)!==null&&S!==void 0?S:""}`,contentStyle:F?void 0:e.contentStyle},{default:()=>I}):I,J=e.showArrow?So({arrowClass:e.arrowClass,arrowStyle:e.arrowStyle,arrowWrapperClass:e.arrowWrapperClass,arrowWrapperStyle:e.arrowWrapperStyle,clsPrefix:$}):null;return[q,J]};E=x("div",mt({class:[`${$}-popover`,`${$}-popover-shared`,c==null?void 0:c.themeClass.value,H.map(p=>`${$}-${p}`),{[`${$}-popover--scrollable`]:e.scrollable,[`${$}-popover--show-header-or-footer`]:F,[`${$}-popover--raw`]:e.raw,[`${$}-popover-shared--overlap`]:e.overlap,[`${$}-popover-shared--show-arrow`]:e.showArrow,[`${$}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:v,style:m.value,onKeydown:s.handleKeydown,onMouseenter:l,onMouseleave:y},t),D?x(Vt,{active:e.show,autoFocus:!0},{default:j}):j())}return ye(E,d.value)}return{displayed:b,namespace:r,isMounted:s.isMountedRef,zIndex:s.zIndexRef,followerRef:u,adjustedTo:oe(e),followerEnabled:g,renderContentNode:G}},render(){return x(Gt,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===oe.tdkey},{default:()=>this.animated?x(pt,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;(e=this.internalOnAfterLeave)===null||e===void 0||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),Eo=Object.keys(Xn),Ao={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function Co(e,n,t){Ao[n].forEach(r=>{e.props?e.props=Object.assign({},e.props):e.props={};const o=e.props[r],i=t[r];o?e.props[r]=(...a)=>{o(...a),i(...a)}:e.props[r]=i})}const Oo={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:oe.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},To=Object.assign(Object.assign(Object.assign({},Ue.props),Oo),{internalOnAfterLeave:Function,internalRenderBody:Function}),No=V({name:"Popover",inheritAttrs:!1,props:To,slots:Object,__popover__:!0,setup(e){const n=xn(),t=T(null),r=te(()=>e.show),o=T(e.defaultShow),i=Ct(r,o),a=de(()=>e.disabled?!1:i.value),u=()=>{if(e.disabled)return!0;const{getDisabled:p}=e;return!!(p!=null&&p())},s=()=>u()?!1:i.value,v=xt(e,["arrow","showArrow"]),g=te(()=>e.overlap?!1:v.value);let b=null;const d=T(null),h=T(null),m=de(()=>e.x!==void 0&&e.y!==void 0);function c(p){const{"onUpdate:show":S,onUpdateShow:I,onShow:q,onHide:J}=e;o.value=p,S&&ce(S,p),I&&ce(I,p),p&&q&&ce(q,!0),p&&J&&ce(J,!1)}function f(){b&&b.syncPosition()}function l(){const{value:p}=d;p&&(window.clearTimeout(p),d.value=null)}function y(){const{value:p}=h;p&&(window.clearTimeout(p),h.value=null)}function C(){const p=u();if(e.trigger==="focus"&&!p){if(s())return;c(!0)}}function O(){const p=u();if(e.trigger==="focus"&&!p){if(!s())return;c(!1)}}function _(){const p=u();if(e.trigger==="hover"&&!p){if(y(),d.value!==null||s())return;const S=()=>{c(!0),d.value=null},{delay:I}=e;I===0?S():d.value=window.setTimeout(S,I)}}function G(){const p=u();if(e.trigger==="hover"&&!p){if(l(),h.value!==null||!s())return;const S=()=>{c(!1),h.value=null},{duration:I}=e;I===0?S():h.value=window.setTimeout(S,I)}}function w(){G()}function E(p){var S;s()&&(e.trigger==="click"&&(l(),y(),c(!1)),(S=e.onClickoutside)===null||S===void 0||S.call(e,p))}function A(){if(e.trigger==="click"&&!u()){l(),y();const p=!s();c(p)}}function $(p){e.internalTrapFocus&&p.key==="Escape"&&(l(),y(),c(!1))}function H(p){o.value=p}function D(){var p;return(p=t.value)===null||p===void 0?void 0:p.targetRef}function F(p){b=p}return le("NPopover",{getTriggerElement:D,handleKeydown:$,handleMouseEnter:_,handleMouseLeave:G,handleClickOutside:E,handleMouseMoveOutside:w,setBodyInstance:F,positionManuallyRef:m,isMountedRef:n,zIndexRef:U(e,"zIndex"),extraClassRef:U(e,"internalExtraClass"),internalRenderBodyRef:U(e,"internalRenderBody")}),En(()=>{i.value&&u()&&c(!1)}),{binderInstRef:t,positionManually:m,mergedShowConsideringDisabledProp:a,uncontrolledShow:o,mergedShowArrow:g,getMergedShow:s,setShow:H,handleClick:A,handleMouseEnter:_,handleMouseLeave:G,handleFocus:C,handleBlur:O,syncPosition:f}},render(){var e;const{positionManually:n,$slots:t}=this;let r,o=!1;if(!n&&(r=Jt(t,"trigger"),r)){r=yt(r),r=r.type===$t?x("span",[r]):r;const i={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=r.type)===null||e===void 0)&&e.__popover__)o=!0,r.props||(r.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),r.props.internalSyncTargetWithParent=!0,r.props.internalInheritedEventHandlers?r.props.internalInheritedEventHandlers=[i,...r.props.internalInheritedEventHandlers]:r.props.internalInheritedEventHandlers=[i];else{const{internalInheritedEventHandlers:a}=this,u=[i,...a],s={onBlur:v=>{u.forEach(g=>{g.onBlur(v)})},onFocus:v=>{u.forEach(g=>{g.onFocus(v)})},onClick:v=>{u.forEach(g=>{g.onClick(v)})},onMouseenter:v=>{u.forEach(g=>{g.onMouseenter(v)})},onMouseleave:v=>{u.forEach(g=>{g.onMouseleave(v)})}};Co(r,a?"nested":n?"manual":this.trigger,s)}}return x(zt,{ref:"binderInstRef",syncTarget:!o,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const i=this.getMergedShow();return[this.internalTrapFocus&&i?ye(x("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0}}),[[Bn,{enabled:i,zIndex:this.zIndex}]]):null,n?null:x(Pt,null,{default:()=>r}),x(Mo,Qt(this.$props,Eo,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:i})),{default:()=>{var a,u;return(u=(a=this.$slots).default)===null||u===void 0?void 0:u.call(a)},header:()=>{var a,u;return(u=(a=this.$slots).header)===null||u===void 0?void 0:u.call(a)},footer:()=>{var a,u;return(u=(a=this.$slots).footer)===null||u===void 0?void 0:u.call(a)}})]}})}});export{zt as B,Wt as L,No as N,Pt as V,Nt as a,It as b,he as c,Gt as d,rn as e,Do as f,Lo as i,Oo as p,oe as u,Bn as z};
