import{B as u}from"./Button-6hWhDUK7.js";import{q as m,a2 as f,w as _,Q as g,_ as z,R as h,o as v,m as l,k as s,h as r,l as i}from"./app-CLJvurN3.js";import{N}from"./Select-BzMTTavy.js";import{N as b}from"./Input-DhYCGtaB.js";const w=m({__name:"Request",setup(c,{expose:t}){t();const a={global:["https://login.microsoftonline.com","https://graph.microsoft.com","https://portal.azure.com","Global","https://www.office.com/","0a2991a3-1674-4334-8561-671cc7349960","uw67Q~TCMqdJyH35hlcHHclv~mhNOGx.jfPFm"],cn:["https://login.chinacloudapi.cn","https://microsoftgraph.chinacloudapi.cn","https://portal.azure.cn","21vianet(世纪互联)","https://portal.partner.microsoftonline.cn/Home","50ff485b-3bdc-4bd5-92a1-75b178187673","6v426lmVYKGM.bkuFu24-EqJAr_~~5_HKL"],de:["https://login.microsoftonline.de","https://graph.microsoft.de","https://portal.microsoftazure.de","Azure Germany"],us:["https://login.microsoftonline.us","https://graph.microsoft.us","https://portal.azure.us","Azure US GOV"]},e=f({zone:"global",client_id:"",client_secret:""});e.client_id=a[e.zone][5],e.client_secret=a[e.zone][6],_(()=>e.zone,n=>{e.client_id=a[n][5]||"",e.client_secret=a[n][6]||""});const o={zones:a,data:e,createClient:()=>{window.open(a[e.zone][2]+"/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade","_blank")},getToken:()=>{const n=new URL(`${a[e.zone][0]}/common/oauth2/v2.0/authorize`);n.searchParams.set("client_id",e.client_id),n.searchParams.set("response_type","code"),n.searchParams.set("redirect_uri","https://alist.example.com/tool/onedrive/callback"),n.searchParams.set("scope","offline_access files.readwrite.all"),n.searchParams.set("state",window.btoa(`${e.client_id}::${e.client_secret}::${e.zone}`)),window.open(n.toString(),"_self")},get NInput(){return b},get NSelect(){return N},get NButton(){return u},get NSpace(){return g}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});function k(c,t,a,e,d,p){return v(),h(e.NSpace,{vertical:"",size:"large"},{default:l(()=>[t[5]||(t[5]=s("h4",null,"zone",-1)),r(e.NSelect,{value:e.data.zone,"onUpdate:value":t[0]||(t[0]=o=>e.data.zone=o),size:"large",options:Object.keys(e.zones).map(o=>({label:e.zones[o][3],value:o}))},null,8,["value","options"]),t[6]||(t[6]=s("h4",null,"client_id",-1)),r(e.NInput,{size:"large",value:e.data.client_id,"onUpdate:value":t[1]||(t[1]=o=>e.data.client_id=o)},null,8,["value"]),t[7]||(t[7]=s("h4",null,"client_secret",-1)),r(e.NInput,{size:"large",value:e.data.client_secret,"onUpdate:value":t[2]||(t[2]=o=>e.data.client_secret=o)},null,8,["value"]),r(e.NSpace,{justify:"center"},{default:l(()=>[r(e.NButton,{size:"large",secondary:"",onClick:e.createClient},{default:l(()=>t[3]||(t[3]=[i("Create client")])),_:1}),r(e.NButton,{size:"large",type:"primary",onClick:e.getToken},{default:l(()=>t[4]||(t[4]=[i("Get Refresh Token")])),_:1})]),_:1})]),_:1})}const x=z(w,[["render",k],["__scopeId","data-v-52f9d9c7"],["__file","Request.vue"]]);export{x as O};
